## 回溯

回溯本质就是一种暴力穷举算法

通常用于求所有的可行解

可以对应成一棵多叉树，回溯算法过程可以看成遍历一棵多叉树的过程

![image-20240410190913455](image-20240410190913455.png)

### 回溯算法框架

```java
List<Value> result;
void backtrack(路径, 选择列表) {
  if (满足结束条件) {
    result.add(路径);
    return;
  }
  for (选择: 选择列表) {
    if (选择不合理) continue;
    做选择;
    backtrack(路径, 选择列表);
    撤销选择;
  }
}
```

撤销选择是为了保证当前项的选择不影响当前项的下一次选择，只要保证做选择时不会影响下一次选择，则不需要撤销选择

### 技巧
关键是剪枝和去重，提前排序会方便剪枝。最后可以通过 哈希表来兜底去重

1. 回溯的时间复杂度通常会非常高，所以预先对数据进行处理对时间复杂度不会有太大影响，比如可以对数据先进行排序
2. 只要原数组不会重复，则递归遍历就不需要考虑是否会出现重复组合，只需要保证每次递归时，枚举起始点的修改
    >如果元素可以重复使用，则枚举起始点应该包含当前元素
    如果元素不可以重复使用，则枚举起始点往后移
3. 如果原数组含重复元素，则可能会出现包含相同元素的重复组合，需要采用去重措施
    >去重措施即枚举某个位置数时，需要保证不能使用重复的数字，可以在当前递归层级通过 hash set 去重
4. 可以通过对数组先排序，来进行剪枝，快速终止递归
